{"timestamp": "2025-02-11T17:59:26.115321", "level": "INFO", "correlation_id": "b209b898-e8ff-4904-9de6-11d784d8399c", "logger": "TimesheetTracker", "message": "Successfully created 205 time entries in bulk", "context": {}}
{"timestamp": "2025-02-11T17:59:26.116513", "level": "ERROR", "correlation_id": "b209b898-e8ff-4904-9de6-11d784d8399c", "logger": "TimesheetTracker", "message": "Error processing timesheet: Object of type date is not JSON serializable", "context": {}}
{"timestamp": "2025-02-11T17:59:26.117080", "level": "ERROR", "correlation_id": "b209b898-e8ff-4904-9de6-11d784d8399c", "logger": "TimesheetTracker", "message": "Database session error: 400: Object of type date is not JSON serializable", "context": {}}
{"timestamp": "2025-02-11T17:59:26.119021", "level": "ERROR", "correlation_id": "b209b898-e8ff-4904-9de6-11d784d8399c", "logger": "TimesheetTracker", "message": "Database session error details:", "context": {}, "exception": "Traceback (most recent call last):\n  File \"/home/runner/workspace/main.py\", line 311, in upload_timesheet\n    return JSONResponse(\n           ^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/starlette/responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/starlette/responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/starlette/responses.py\", line 183, in render\n    return json.dumps(\n           ^^^^^^^^^^^\n  File \"/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/json/__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ^^^^^^^^^^^\n  File \"/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type date is not JSON serializable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/workspace/database/database.py\", line 113, in get_db\n    yield db\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/fastapi/concurrency.py\", line 27, in contextmanager_in_threadpool\n    yield await run_in_threadpool(cm.__enter__)\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/main.py\", line 320, in upload_timesheet\n    raise HTTPException(status_code=400, detail=str(e))\nfastapi.exceptions.HTTPException: 400: Object of type date is not JSON serializable"}
{"timestamp": "2025-02-11T17:59:26.141438", "level": "DEBUG", "correlation_id": "b209b898-e8ff-4904-9de6-11d784d8399c", "logger": "TimesheetTracker", "message": "Database session closed", "context": {}}
{"timestamp": "2025-02-11T17:59:26.142531", "level": "WARNING", "correlation_id": "b209b898-e8ff-4904-9de6-11d784d8399c", "logger": "TimesheetTracker", "message": "Request failed with status 400", "context": {"correlation_id": "b209b898-e8ff-4904-9de6-11d784d8399c", "status_code": 400, "method": "POST", "url": "http://6ed7ce35-85b3-498b-9e9b-4d63631ed8e3-00-2owzgyvztotfg.worf.replit.dev/time-entries/upload/", "process_time_ms": "14292.90", "response_headers": {"content-length": "57", "content-type": "application/json", "access-control-allow-origin": "*", "access-control-expose-headers": "X-Total-Count, X-Correlation-ID"}, "error_detail": null, "query_params": {}, "path_params": {}, "client_host": "172.31.128.42", "path": "/time-entries/upload/", "origin": "https://6ed7ce35-85b3-498b-9e9b-4d63631ed8e3-00-2owzgyvztotfg.worf.replit.dev", "cors_method": null, "cors_headers": null}}
{"timestamp": "2025-02-11T17:59:26.143606", "level": "DEBUG", "correlation_id": "b209b898-e8ff-4904-9de6-11d784d8399c", "logger": "TimesheetTracker", "message": "Adding CORS headers to response", "context": {"correlation_id": "b209b898-e8ff-4904-9de6-11d784d8399c", "method": "POST", "path": "/time-entries/upload/", "status_code": 400}}
INFO:     172.31.128.42:33420 - "POST /time-entries/upload/ HTTP/1.1" 400 Bad Request