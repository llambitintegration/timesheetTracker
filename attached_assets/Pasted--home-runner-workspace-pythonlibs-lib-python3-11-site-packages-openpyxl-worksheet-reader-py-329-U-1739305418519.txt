/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/openpyxl/worksheet/_reader.py:329: UserWarning: Data Validation extension is not supported and will be removed
  warn(msg)
{"timestamp": "2025-02-11T20:22:34.143899", "level": "INFO", "correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "logger": "TimesheetTracker", "message": "Successfully parsed 216 records from Excel file", "context": {}}
{"timestamp": "2025-02-11T20:22:34.144970", "level": "ERROR", "correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "logger": "TimesheetTracker", "message": "Error importing Excel data: 2 validation errors for TimeEntryCreate\ncustomer\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\nproject\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type", "context": {}}
{"timestamp": "2025-02-11T20:22:34.145150", "level": "ERROR", "correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "logger": "TimesheetTracker", "message": "Error processing timesheet: 2 validation errors for TimeEntryCreate\ncustomer\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\nproject\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type", "context": {}}
{"timestamp": "2025-02-11T20:22:34.145378", "level": "ERROR", "correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "logger": "TimesheetTracker", "message": "Error processing timesheet: 400: 2 validation errors for TimeEntryCreate\ncustomer\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\nproject\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type", "context": {}}
{"timestamp": "2025-02-11T20:22:34.145927", "level": "ERROR", "correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "logger": "TimesheetTracker", "message": "Database session error: 400: 2 validation errors for TimeEntryCreate\ncustomer\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\nproject\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type", "context": {}}
{"timestamp": "2025-02-11T20:22:34.149015", "level": "ERROR", "correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "logger": "TimesheetTracker", "message": "Database session error details:", "context": {}, "exception": "Traceback (most recent call last):\n  File \"/home/runner/workspace/services/timesheet_service.py\", line 81, in upload_timesheet\n    entries = self.repository.import_excel(self.db, contents)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/database/timesheet_repository.py\", line 80, in import_excel\n    entry_data = schemas.TimeEntryCreate(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/pydantic/main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 2 validation errors for TimeEntryCreate\ncustomer\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\nproject\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/workspace/database/database.py\", line 113, in get_db\n    yield db\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/fastapi/concurrency.py\", line 27, in contextmanager_in_threadpool\n    yield await run_in_threadpool(cm.__enter__)\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/main.py\", line 259, in upload_timesheet\n    result = await service.upload_timesheet(file)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/services/timesheet_service.py\", line 125, in upload_timesheet\n    raise HTTPException(status_code=400, detail=str(e))\nfastapi.exceptions.HTTPException: 400: 2 validation errors for TimeEntryCreate\ncustomer\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\nproject\n  Input should be a valid string [type=string_type, input_value=nan, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type"}
{"timestamp": "2025-02-11T20:22:34.150035", "level": "DEBUG", "correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "logger": "TimesheetTracker", "message": "Database session closed", "context": {}}
{"timestamp": "2025-02-11T20:22:34.150686", "level": "WARNING", "correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "logger": "TimesheetTracker", "message": "Request failed with status 400", "context": {"correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "status_code": 400, "method": "POST", "url": "http://6ed7ce35-85b3-498b-9e9b-4d63631ed8e3-00-2owzgyvztotfg.worf.replit.dev/time-entries/upload/", "process_time_ms": "177.18", "response_headers": {"content-length": "411", "content-type": "application/json", "access-control-allow-origin": "*", "access-control-expose-headers": "X-Total-Count, X-Correlation-ID"}, "error_detail": null, "query_params": {}, "path_params": {}, "client_host": "172.31.128.11", "path": "/time-entries/upload/", "origin": "https://6ed7ce35-85b3-498b-9e9b-4d63631ed8e3-00-2owzgyvztotfg.worf.replit.dev", "cors_method": null, "cors_headers": null}}
{"timestamp": "2025-02-11T20:22:34.151148", "level": "DEBUG", "correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "logger": "TimesheetTracker", "message": "Adding CORS headers to response", "context": {"correlation_id": "a2de1f2d-4d48-4fcc-a7ef-ba1e41a89923", "method": "POST", "path": "/time-entries/upload/", "status_code": 400}}
INFO:     172.31.128.11:37442 - "POST /time-entries/upload/ HTTP/1.1" 400 Bad Request